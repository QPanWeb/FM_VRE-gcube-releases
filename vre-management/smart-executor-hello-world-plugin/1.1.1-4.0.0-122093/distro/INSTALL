Used as a plugin of SmartExecutor